<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Antisocial</title>
  <link id="site-favicon" rel="icon" href="/static/favicon.ico"/>
  <link rel="stylesheet" href="/static/styles.css"/>
</head>
<body>
  <header class="top-bar">
    <div class="container">
      <a class="logo-wrap" href="/">
        <img id="site-logo" class="logo" alt=""/>
        <h1 id="site-title"></h1>
      </a>
      <div class="actions">
        <button id="btn-new-post" class="btn" style="display:none;">New Post</button>
        <div id="auth-bar"></div>
      </div>
    </div>
  </header>

  <header class="site-header">
    <div class="container">
      <div class="toolbar">
        <input id="search" type="search" placeholder="Search postsâ€¦ (title, text, tags)" />
        <div class="chips">
          <button class="chip" data-type="all">All</button>
          <button class="chip" data-type="photo">Photos</button>
          <button class="chip" data-type="video">Videos</button>
          <button class="chip" data-type="text">Text</button>
          <button class="chip" data-type="link">Links</button>
        </div>

        <!-- NEW: Date filter -->
        <div class="date-filter">
          <label>From <input id="date-from" type="date"></label>
          <span>â€“</span>
          <label>To <input id="date-to" type="date"></label>
          <button id="date-clear" class="chip chip-ghost" type="button">Clear</button>
        </div>
      </div>
      <div id="tag-bar" class="tags"></div>
    </div>
  </header>

  <main class="container">
    <div id="grid" class="grid"></div>
    <template id="card-tpl">
      <article class="card">
        <div class="thumb" data-role="thumb"></div>
        <div class="body">
          <div class="title-row">
            <h2 class="title" data-role="title"></h2>
            <span class="date muted" data-role="date"></span>
          </div>
          <div class="muted author" data-role="author"></div>
          <p class="desc" data-role="desc"></p>
          <div class="tags" data-role="tags"></div>
        <div class="muted comment-count" data-role="comment-count"></div>
      </div>
    </article>
    </template>
  </main>

  <template id="new-post-tpl">
    <form class="new-post-form">
      <div class="title-wrap">
        <input id="p-title" type="text" maxlength="300" placeholder="Title*" required/>
        <div id="title-count" class="char-count">0/300</div>
      </div>

      <div class="tags-section">
        <button type="button" class="chip" id="toggle-tags">Add tags</button>
        <div id="tags-wrap" class="tag-wrap hidden">
          <input id="p-tags" type="text" placeholder="comma,separated,tags"/>
          <div class="tag-suggest" id="p-tags-suggest"></div>
        </div>
      </div>

      <div class="editor-wrap">
        <div class="toolbar">
          <button type="button" data-wrap="**" title="Bold"><b>B</b></button>
          <button type="button" data-wrap="*" title="Italic"><i>I</i></button>
          <button type="button" data-wrap="~~" title="Strikethrough"><s>S</s></button>
          <button type="button" data-prefix="> " title="Quote">&gt;</button>
          <button type="button" data-prefix="- " title="Bulleted list">â€¢</button>
          <button type="button" data-prefix="1. " title="Numbered list">1.</button>
          <button type="button" data-wrap="`" title="Inline code">{}</button>
          <button type="button" data-wrap="![alt](" data-suffix=")" title="Image">ðŸ–¼</button>
          <button type="button" data-wrap="[" data-suffix="](url)" title="Link">ðŸ”—</button>
          <span class="flex-spacer"></span>
          <button type="button" id="md-switch" class="switch">Switch to Markdown Editor</button>
        </div>
        <textarea id="p-text" placeholder="Body text (optional)"></textarea>
      </div>

      <div class="images-row">
        <input id="p-image" type="file" accept="image/*" multiple/>
      </div>
      <div class="preview-row" id="p-preview-row" style="display:none;">
        <div id="p-preview-wrap"></div>
      </div>

      <div class="action-row">
        <button class="btn" type="button" id="create-post">Post</button>
      </div>
    </form>
  </template>

  <div id="modal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal__backdrop" data-close></div>
    <div class="modal__content">
      <button class="modal__close" aria-label="Close" data-close>âœ•</button>
      <div id="modal-body"></div>
    </div>
  </div>

  <footer class="container footer">
    <span class="muted">Â© <span id="year"></span> <span id="footer-title"></span></span>
  </footer>

<script src="https://cdn.jsdelivr.net/npm/marked@12.0.2/marked.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.min.js" defer></script>
<script src="/static/app.js" defer></script>
</body>
</html>
